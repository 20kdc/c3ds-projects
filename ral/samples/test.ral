include "std/c3.ral";

class FavoritePlace 1 4 0;
class Bramboo 2 4 13;

meepFamily = 6;
meepGenus = 6;
meepSpecies = 6;

interface Boop;
interface Beep;
class Meep meepFamily meepGenus meepSpecies extends Boop, Beep;

typedef NotNornCreature Grendel|Ettin|Geat;

message Agent:windowResized 123;

macro inc(inline integer funnel) {
	inline "adds " funnel " 1\n";
	return funnel;
};

macro add(inline integer a, inline integer b) {
	let integer c = a;
	inline "adds " c " " b "\n";
	return c;
};

#macro inst() {
#	inline "inst\n";
#}

#macro kill(Agent x) {
#	inline "kill " x "\n";
#}

install {
	let integer counterA = 0;
	let integer counterB = 0;
	inline "addv " counterA " " 1 "\n";
	counterA, counterB = 4, 1;
	# little macro test
	counterA = inc(counterB);
	# big macro test
	inline " * -- big macro test\n";
	counterA = add(counterA, 10);
	inline " * --\n";
	# VERY INVALID
	counterA = null!integer;
	# test normal stuff
	let Bramboo? y = null;
	let Agent? y = y;
	# test deliberate nonsense
	let Bramboo? x = null;
	alias x = x!FavoritePlace?;
	let FavoritePlace? x = x;
}

script Geat 5 {
	# :(
}

script Geat:windowResized {
	# :)
}

remove {
}

